#!/bin/bash

set -e

if [ -z "$1" ];then
  echo "too few argument" 1>&2
  exit 1
fi

if [ -f "$$1" ];then
  echo "invalid file" 1>&2
  exit 1
fi

case "$1" in
  *.rar) unrar $1;;
  *.zip) unzip $1;;
  *.tar*) tar -xvf $1;;
  *) echo "$1: can't open file" 1>&2
     exit 1;;
esac

exit 0
